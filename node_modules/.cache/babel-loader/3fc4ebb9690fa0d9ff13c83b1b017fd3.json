{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\hgaff\\\\OneDrive\\\\Documents\\\\derivativesnew\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\hgaff\\\\OneDrive\\\\Documents\\\\derivativesnew\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"C:\\\\Users\\\\hgaff\\\\OneDrive\\\\Documents\\\\derivativesnew\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"C:\\\\Users\\\\hgaff\\\\OneDrive\\\\Documents\\\\derivativesnew\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"C:\\\\Users\\\\hgaff\\\\OneDrive\\\\Documents\\\\derivativesnew\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\hgaff\\\\OneDrive\\\\Documents\\\\derivativesnew\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\hgaff\\\\OneDrive\\\\Documents\\\\derivativesnew\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\hgaff\\\\OneDrive\\\\Documents\\\\derivativesnew\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\hgaff\\\\OneDrive\\\\Documents\\\\derivativesnew\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\hgaff\\\\OneDrive\\\\Documents\\\\derivativesnew\\\\src\\\\components\\\\edittrade.js\";\nimport React from \"react\";\nimport EdittradeComponent from \"./edittradeComponent\";\nimport axios from \"axios\";\n\nvar Edittrade =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Edittrade, _React$Component);\n\n  function Edittrade() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Edittrade);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Edittrade)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      tradeId: _this.props.data,\n      sensitivity: _this.props.sensitivity,\n      updateSens: _this.props.updateSens,\n      createTradedata: {\n        BuyingParty: \"\",\n        SellingParty: \"\",\n        ProductName: \"\",\n        Quantity: \"\",\n        NotionalCurrency: \"\",\n        UnderlyingCurrency: \"\",\n        StrikePrice: \"\",\n        MaturityDate: \"\",\n        Tdate: \"\",\n        NotionalAmount: \"\",\n        UnderlyingPrice: \"\"\n      },\n      disabled: false,\n      visible: false,\n      buyingParty: {\n        value: \"\",\n        valid: \"\",\n        help: \"\"\n      },\n      sellingParty: {\n        value: \"\",\n        valid: \"\",\n        help: \"\"\n      },\n      productStock: {\n        value: \"\",\n        valid: \"\",\n        help: \"\"\n      },\n      productName: {\n        value: \"\"\n      },\n      quantity: {\n        value: \"\",\n        valid: \"\",\n        help: \"\"\n      },\n      notionalCurrency: {\n        value: \"\"\n      },\n      underlyingCurrency: {\n        value: \"\"\n      },\n      strikePrice: {\n        value: \"\",\n        valid: \"\",\n        help: \"\"\n      },\n      expiryDate: {\n        value: \"\"\n      },\n      currencyList: [],\n      productList: [],\n      companyList: [],\n      isVerified: false,\n      verifiedData: {\n        marketValue: \"\",\n        notionalValue: \"\",\n        currentValue: \"\"\n      },\n      verifyData: {\n        quantity: \"\",\n        sellingParty: \"\",\n        productName: \"\",\n        notionalCurrency: \"\",\n        strikePrice: \"\"\n      }\n    };\n\n    _this.showModal = function (e) {\n      e.stopPropagation();\n\n      _this.setState({\n        visible: true\n      });\n    };\n\n    _this.handleOk = function (e) {\n      e.stopPropagation();\n      console.log(e);\n\n      _this.setState({\n        visible: false\n      });\n    };\n\n    _this.handleCancel = function (e) {\n      e.stopPropagation();\n      console.log(e);\n\n      _this.setState({\n        visible: false\n      });\n    };\n\n    _this.enableField = function () {\n      _this.setState({\n        disabled: false\n      });\n    };\n\n    _this.disableField = function () {\n      _this.setState({\n        disabled: true\n      });\n    };\n\n    _this.handleNumber = function (event) {\n      event.preventDefault();\n      var _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value;\n      var validator = \"validating\";\n      var helpMsg = \"\";\n      console.log(\"handling \".concat(name, \" set to \").concat(value));\n\n      if (name === \"quantity\" || name === \"strikePrice\") {\n        if (!Number(value) & value !== \"\" || Number(value) < 0) {\n          validator = \"error\";\n          helpMsg = name === \"quantity\" ? \"Enter a valid quantity\" : \"Enter a valid strike price\";\n        }\n      }\n\n      _this.setState(function (prevState) {\n        return _objectSpread({}, prevState, _defineProperty({}, name, {\n          value: value,\n          valid: validator,\n          help: helpMsg\n        }));\n      });\n    };\n\n    _this.handleBuyer = function (value) {\n      var validator = \"\";\n      var helpMsg = \"\";\n      console.log(\"Checking if \".concat(value, \" is equal to \").concat(_this.state.sellingParty.value));\n\n      if (value == _this.state.sellingParty.value) {\n        validator = \"error\";\n        helpMsg = \"Enter a valid buyer\";\n      }\n\n      _this.setState(function (prevState) {\n        return _objectSpread({}, prevState, {\n          buyingParty: {\n            value: value,\n            valid: validator,\n            help: helpMsg\n          }\n        });\n      });\n    };\n\n    _this.handleSeller = function (value) {\n      var validator = \"\";\n      var helpMsg = \"\";\n      console.log(\"Checking if \".concat(value, \" is equal to \").concat(_this.state.buyingParty.value));\n\n      if (value == _this.state.buyingParty.value) {\n        validator = \"error\";\n        helpMsg = \"Enter a valid seller\";\n      }\n\n      _this.setState(function (prevState) {\n        return _objectSpread({}, prevState, {\n          sellingParty: {\n            value: value,\n            valid: validator,\n            help: helpMsg\n          }\n        });\n      });\n    };\n\n    _this.handleNotional = function (v) {\n      console.log(console.log(\"selected notional \".concat(v)));\n\n      _this.setState(function (prevState) {\n        return _objectSpread({}, prevState, {\n          notionalCurrency: {\n            value: v\n          }\n        });\n      });\n    };\n\n    _this.handleDropdown = function (val) {\n      _this.setState(function (prevState) {\n        return _objectSpread({}, prevState, {\n          productName: {\n            value: val\n          }\n        });\n      });\n    };\n\n    _this.handleUnderlying = function (v) {\n      console.log(console.log(\"selected underlying \".concat(v)));\n\n      _this.setState(function (prevState) {\n        return _objectSpread({}, prevState, {\n          underlyingCurrency: {\n            value: v,\n            valid: \"\",\n            help: \"\"\n          }\n        });\n      });\n    };\n\n    _this.handleExpirydate = function (d, ds) {\n      _this.setState(function (prevState) {\n        return _objectSpread({}, prevState, {\n          expiryDate: {\n            value: ds\n          }\n        });\n      });\n    };\n\n    _this.isStock = function () {\n      if (_this.state.productStock.value === \"Stocks\") {\n        _this.setState(function (prevState) {\n          return _objectSpread({}, prevState, {\n            productName: {\n              value: \"Stocks\"\n            }\n          });\n        });\n      }\n    };\n\n    _this.handleVerify = function () {\n      _this.isStock();\n\n      _this.setState(function (prevState) {\n        return _objectSpread({}, prevState, {\n          verifyData: {\n            quantity: _this.state.quantity.value,\n            sellingParty: _this.state.sellingParty.value,\n            productName: _this.state.productName.value,\n            notionalCurrency: _this.state.notionalCurrency.value,\n            strikePrice: _this.state.strikePrice.value\n          }\n        });\n      });\n    };\n\n    _this.getVerify =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var options;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _this.handleVerify();\n\n            case 2:\n              options = {\n                headers: {\n                  'Content-Type': 'application/json'\n                }\n              };\n              _context.next = 5;\n              return axios.post(\"http://127.0.0.1:5000/trades/verify\", _this.state.verifyData).then(function (response) {\n                console.log(response.data.result);\n\n                _this.setState(function (prevState) {\n                  return _objectSpread({}, prevState, {\n                    verifiedData: {\n                      marketValue: response.data.result.marketValue,\n                      notionalValue: response.data.result.notionalValue,\n                      currentValue: response.data.result.currentPrice\n                    }\n                  });\n                });\n              }).catch(function (error) {\n                console.log(\"ERROR: =============\", error.response);\n              });\n\n            case 5:\n              _this.setState({\n                isVerified: true\n              });\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    _this.handleSubmit =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2() {\n      var d, h, m, currtime;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return axios.delete(\"http://127.0.0.1:5000/trades/badTrades/remove/\".concat(_this.state.tradeId)).then(function (response) {\n                console.log(response.data);\n              }).catch(function (error) {\n                console.log(error);\n              });\n\n            case 2:\n              _this.isStock();\n\n              d = new Date();\n              h = d.getHours();\n              m = d.getMinutes();\n              currtime = \"2020-01-01 \" + h + \":\" + m;\n              _context2.next = 9;\n              return _this.setState(function (prevState) {\n                return _objectSpread({}, prevState, {\n                  createTradedata: {\n                    BuyingParty: _this.state.buyingParty.value,\n                    SellingParty: _this.state.sellingParty.value,\n                    Product: _this.state.productName.value,\n                    Quantity: _this.state.quantity.value,\n                    NotionalCurrency: _this.state.notionalCurrency.value,\n                    UnderlyingCurrency: _this.state.underlyingCurrency.value,\n                    StrikePrice: _this.state.strikePrice.value,\n                    MaturityDate: _this.state.expiryDate.value,\n                    Tdate: currtime,\n                    NotionalAmount: _this.state.verifiedData.notionalValue,\n                    UnderlyingPrice: _this.state.verifiedData.marketValue\n                  }\n                });\n              });\n\n            case 9:\n              axios.put(\"http://127.0.0.1:5000/trades/edit/\".concat(_this.state.tradeId), _this.state.createTradedata).then(function (response) {\n                console.log(response.data);\n              }).catch(function (error) {\n                console.log(\"ERROR: =============\", error.response);\n              });\n\n              if (window.location.pathname == \"/portfolio\") {\n                axios.get(\"http://127.0.0.1:5000/trades/verificationSensitivity/set/\".concat(_this.state.sensitivity + 1)).then(function (response) {\n                  console.log(response);\n                }).catch(function (error) {\n                  console.log(error);\n                });\n              }\n\n            case 11:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    return _this;\n  }\n\n  _createClass(Edittrade, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3() {\n        var _this2 = this;\n\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return axios.get(\"http://127.0.0.1:5000/company/list\").then(function (response) {\n                  _this2.setState({\n                    companyList: response.data.result\n                  });\n\n                  console.log(_this2.state.companyList);\n                }).catch(function (error) {\n                  console.log(error);\n                });\n\n              case 2:\n                _context3.next = 4;\n                return axios.get(\"http://127.0.0.1:5000/product/list\").then(function (response) {\n                  _this2.setState({\n                    productList: response.data.result\n                  });\n\n                  console.log(_this2.state.productList);\n                }).catch(function (error) {\n                  console.log(error);\n                });\n\n              case 4:\n                _context3.next = 6;\n                return axios.get(\"http://127.0.0.1:5000/currency/list\").then(function (response) {\n                  _this2.setState({\n                    currencyList: response.data.result\n                  });\n\n                  console.log(response.data);\n                }).catch(function (error) {\n                  console.log(error);\n                });\n\n              case 6:\n                _context3.next = 8;\n                return axios.get(\"http://127.0.0.1:5000/trades/verificationSensitivity/get\").then(function (response) {\n                  console.log(response);\n\n                  _this2.setState({\n                    sensitivity: response.data.result\n                  });\n                }).catch(function (error) {\n                  console.log(error);\n                });\n\n              case 8:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(EdittradeComponent, {\n        showModal: this.showModal,\n        handleOk: this.handleOk,\n        handleCancel: this.handleCancel,\n        handleNotional: this.handleNotional,\n        handleNumber: this.handleNumber,\n        handleBuyer: this.handleBuyer,\n        handleSeller: this.handleSeller,\n        handleUnderlying: this.handleUnderlying,\n        handleDropdown: this.handleDropdown,\n        handleExpirydate: this.handleExpirydate,\n        handleExpirytime: this.handleExpirytime,\n        handleVerify: this.getVerify,\n        enableField: this.enableField,\n        disableField: this.disableField,\n        data: this.state,\n        handleSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return Edittrade;\n}(React.Component);\n\nexport default Edittrade;","map":{"version":3,"sources":["C:/Users/hgaff/OneDrive/Documents/derivativesnew/src/components/edittrade.js"],"names":["React","EdittradeComponent","axios","Edittrade","state","tradeId","props","data","sensitivity","updateSens","createTradedata","BuyingParty","SellingParty","ProductName","Quantity","NotionalCurrency","UnderlyingCurrency","StrikePrice","MaturityDate","Tdate","NotionalAmount","UnderlyingPrice","disabled","visible","buyingParty","value","valid","help","sellingParty","productStock","productName","quantity","notionalCurrency","underlyingCurrency","strikePrice","expiryDate","currencyList","productList","companyList","isVerified","verifiedData","marketValue","notionalValue","currentValue","verifyData","showModal","e","stopPropagation","setState","handleOk","console","log","handleCancel","enableField","disableField","handleNumber","event","preventDefault","target","name","validator","helpMsg","Number","prevState","handleBuyer","handleSeller","handleNotional","v","handleDropdown","val","handleUnderlying","handleExpirydate","d","ds","isStock","handleVerify","getVerify","options","headers","post","then","response","result","currentPrice","catch","error","handleSubmit","delete","Date","h","getHours","m","getMinutes","currtime","Product","put","window","location","pathname","get","handleExpirytime","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport EdittradeComponent from \"./edittradeComponent\";\r\nimport axios from \"axios\";\r\nclass Edittrade extends React.Component {\r\n  state = {\r\n    tradeId: this.props.data,\r\n    sensitivity: this.props.sensitivity,\r\n    updateSens: this.props.updateSens,\r\n    createTradedata: {\r\n      BuyingParty: \"\",\r\n      SellingParty: \"\",\r\n      ProductName: \"\",\r\n      Quantity: \"\",\r\n      NotionalCurrency: \"\",\r\n      UnderlyingCurrency: \"\",\r\n      StrikePrice: \"\",\r\n      MaturityDate: \"\",\r\n      Tdate: \"\",\r\n      NotionalAmount: \"\",\r\n      UnderlyingPrice: \"\"\r\n    },\r\n    disabled: false,\r\n    visible: false,\r\n    buyingParty: {\r\n      value: \"\",\r\n      valid: \"\",\r\n      help: \"\"\r\n    },\r\n    sellingParty: {\r\n      value: \"\",\r\n      valid: \"\",\r\n      help: \"\"\r\n    },\r\n    productStock: {\r\n      value: \"\",\r\n      valid: \"\",\r\n      help: \"\"\r\n    },\r\n    productName: {\r\n      value: \"\"\r\n    },\r\n    quantity: {\r\n      value: \"\",\r\n      valid: \"\",\r\n      help: \"\"\r\n    },\r\n    notionalCurrency: {\r\n      value: \"\"\r\n    },\r\n    underlyingCurrency: {\r\n      value: \"\"\r\n    },\r\n    strikePrice: {\r\n      value: \"\",\r\n      valid: \"\",\r\n      help: \"\"\r\n    },\r\n    expiryDate: {\r\n      value: \"\"\r\n    },\r\n    currencyList: [],\r\n    productList: [],\r\n    companyList: [],\r\n    isVerified: false,\r\n    verifiedData: {\r\n      marketValue: \"\",\r\n      notionalValue: \"\",\r\n      currentValue: \"\"\r\n    },\r\n    verifyData: {\r\n      quantity: \"\",\r\n      sellingParty: \"\",\r\n      productName: \"\",\r\n      notionalCurrency: \"\",\r\n      strikePrice: \"\"\r\n    }\r\n  };\r\n\r\n  async componentDidMount(){                                        //This is an example of a lifecycle method. This method will only be called once, when the component is \"mounted\"/first rendered\r\n    await axios.get(\"http://127.0.0.1:5000/company/list\")\r\n      .then(response => {\r\n        this.setState({companyList : response.data.result})\r\n        console.log(this.state.companyList)\r\n      })\r\n      .catch(error => {\r\n        console.log(error)\r\n      })\r\n    await axios.get(\"http://127.0.0.1:5000/product/list\")\r\n      .then(response => {\r\n        this.setState({productList : response.data.result})\r\n        console.log(this.state.productList)\r\n      })\r\n      .catch(error => {\r\n        console.log(error)\r\n      })\r\n    await axios.get(\"http://127.0.0.1:5000/currency/list\")\r\n      .then(response => {\r\n        this.setState({currencyList : response.data.result})\r\n        console.log(response.data)\r\n      })\r\n      .catch(error => {\r\n        console.log(error)\r\n      })\r\n    await axios.get(\"http://127.0.0.1:5000/trades/verificationSensitivity/get\")\r\n      .then(response => {\r\n        console.log(response)\r\n        this.setState({sensitivity : response.data.result})\r\n      })\r\n      .catch(error => {\r\n        console.log(error)\r\n      })\r\n  }\r\n\r\n  showModal = e => {\r\n    e.stopPropagation();\r\n    this.setState({\r\n      visible: true\r\n    });\r\n  };\r\n\r\n  handleOk = e => {\r\n    e.stopPropagation();\r\n    console.log(e);\r\n    this.setState({\r\n      visible: false\r\n    });\r\n  };\r\n\r\n  handleCancel = e => {\r\n    e.stopPropagation();\r\n    console.log(e);\r\n    this.setState({\r\n      visible: false\r\n    });\r\n  };\r\n\r\n  enableField = () => {\r\n    this.setState({\r\n      disabled: false\r\n    });\r\n  };\r\n\r\n  disableField = () => {\r\n    this.setState({\r\n      disabled: true\r\n    });\r\n  };\r\n  handleNumber = event => {\r\n    event.preventDefault();\r\n    const { name, value } = event.target;\r\n    var validator = \"validating\";\r\n    var helpMsg = \"\";\r\n    console.log(`handling ${name} set to ${value}`);\r\n    if (name === \"quantity\" || name === \"strikePrice\") {\r\n      if (!Number(value) & (value !== \"\") || Number(value) < 0) {\r\n        validator = \"error\";\r\n        helpMsg =\r\n          name === \"quantity\"\r\n            ? \"Enter a valid quantity\"\r\n            : \"Enter a valid strike price\";\r\n      }\r\n    }\r\n    this.setState(prevState => ({\r\n      // must take into account previous state as is an object with changing properties\r\n      ...prevState, //Spread notation means to copy all same properties of previous states object \"errors\"\r\n      [name]: {\r\n        value: value,\r\n        valid: validator,\r\n        help: helpMsg\r\n      }\r\n    }));\r\n  };\r\n  handleBuyer = value => {\r\n    var validator = \"\";\r\n    var helpMsg = \"\";\r\n    console.log(\r\n      `Checking if ${value} is equal to ${this.state.sellingParty.value}`\r\n    );\r\n    if (value == this.state.sellingParty.value) {\r\n      validator = \"error\";\r\n      helpMsg = \"Enter a valid buyer\";\r\n    }\r\n    this.setState(prevState => ({\r\n      ...prevState,\r\n      buyingParty: {\r\n        value: value,\r\n        valid: validator,\r\n        help: helpMsg\r\n      }\r\n    }));\r\n  };\r\n  handleSeller = value => {\r\n    var validator = \"\";\r\n    var helpMsg = \"\";\r\n    console.log(\r\n      `Checking if ${value} is equal to ${this.state.buyingParty.value}`\r\n    );\r\n    if (value == this.state.buyingParty.value) {\r\n      validator = \"error\";\r\n      helpMsg = \"Enter a valid seller\";\r\n    }\r\n    this.setState(prevState => ({\r\n      ...prevState,\r\n      sellingParty: {\r\n        value: value,\r\n        valid: validator,\r\n        help: helpMsg\r\n      }\r\n    }));\r\n  };\r\n\r\n  handleNotional = v => {\r\n    console.log(console.log(`selected notional ${v}`));\r\n    this.setState(prevState => ({\r\n      ...prevState,\r\n      notionalCurrency: {\r\n        value: v\r\n      }\r\n    }));\r\n  };\r\n\r\n  handleDropdown = val => {\r\n    this.setState(prevState => ({\r\n      ...prevState,\r\n      productName: {\r\n        value: val\r\n      }\r\n    }));\r\n  };\r\n\r\n  handleUnderlying = v => {\r\n    console.log(console.log(`selected underlying ${v}`));\r\n    this.setState(prevState => ({\r\n      ...prevState,\r\n      underlyingCurrency: {\r\n        value: v,\r\n        valid: \"\",\r\n        help: \"\"\r\n      }\r\n    }));\r\n  };\r\n\r\n  handleExpirydate = (d, ds) => {\r\n    this.setState(prevState => ({\r\n      ...prevState,\r\n      expiryDate: {\r\n        value: ds\r\n      }\r\n    }));\r\n  };\r\n\r\n  isStock = () => {\r\n    if(this.state.productStock.value === \"Stocks\"){\r\n      this.setState(prevState => ({\r\n          ...prevState,\r\n          productName: {\r\n            value: \"Stocks\"\r\n          }\r\n      }))\r\n    }\r\n  }\r\n\r\n  handleVerify = () => {\r\n    this.isStock()\r\n    this.setState(prevState => ({\r\n        ...prevState,\r\n        verifyData: {\r\n          quantity: this.state.quantity.value,\r\n          sellingParty: this.state.sellingParty.value,\r\n          productName: this.state.productName.value,\r\n          notionalCurrency: this.state.notionalCurrency.value,\r\n          strikePrice: this.state.strikePrice.value\r\n        }\r\n    }))\r\n  };\r\n\r\n  getVerify = async () =>{\r\n    await this.handleVerify();\r\n    const options = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      }\r\n    };\r\n    await axios\r\n      .post(\"http://127.0.0.1:5000/trades/verify\", this.state.verifyData)\r\n      .then(response => {\r\n        console.log(response.data.result)\r\n        this.setState(prevState => ({\r\n            ...prevState,\r\n            verifiedData: {\r\n              marketValue: response.data.result.marketValue,\r\n              notionalValue: response.data.result.notionalValue,\r\n              currentValue: response.data.result.currentPrice\r\n            }\r\n        }))\r\n      })\r\n      .catch(error => {\r\n        console.log(\"ERROR: =============\", error.response)\r\n    })\r\n    this.setState({isVerified : true})\r\n  }\r\n\r\n  handleSubmit = async () => {\r\n    await axios.delete(`http://127.0.0.1:5000/trades/badTrades/remove/${this.state.tradeId}`)\r\n      .then( response => {\r\n        console.log(response.data)\r\n      })\r\n      .catch(error => {\r\n        console.log(error)\r\n      })\r\n    this.isStock()\r\n    var d = new Date();\r\n    var h = d.getHours();\r\n    var m = d.getMinutes();\r\n    var currtime = \"2020-01-01 \" + h + \":\" + m\r\n    await this.setState(prevState => ({\r\n        ...prevState,\r\n        createTradedata: {\r\n          BuyingParty: this.state.buyingParty.value,\r\n          SellingParty: this.state.sellingParty.value,\r\n          Product: this.state.productName.value,\r\n          Quantity: this.state.quantity.value,\r\n          NotionalCurrency: this.state.notionalCurrency.value,\r\n          UnderlyingCurrency: this.state.underlyingCurrency.value,\r\n          StrikePrice: this.state.strikePrice.value,\r\n          MaturityDate: this.state.expiryDate.value,\r\n          Tdate: currtime,\r\n          NotionalAmount: this.state.verifiedData.notionalValue,\r\n          UnderlyingPrice: this.state.verifiedData.marketValue\r\n        }\r\n    }))\r\n    axios\r\n      .put(`http://127.0.0.1:5000/trades/edit/${this.state.tradeId}`, this.state.createTradedata)\r\n      .then(response => {\r\n        console.log(response.data)\r\n      })\r\n      .catch(error => {\r\n        console.log(\"ERROR: =============\", error.response)\r\n    })\r\n    if (window.location.pathname == \"/portfolio\"){\r\n      axios.get(`http://127.0.0.1:5000/trades/verificationSensitivity/set/${this.state.sensitivity + 1}`)\r\n        .then(response => {\r\n          console.log(response)\r\n        })\r\n        .catch(error => {\r\n          console.log(error)\r\n        })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <EdittradeComponent\r\n        showModal={this.showModal}\r\n        handleOk={this.handleOk}\r\n        handleCancel={this.handleCancel}\r\n        handleNotional={this.handleNotional}\r\n        handleNumber={this.handleNumber}\r\n        handleBuyer={this.handleBuyer}\r\n        handleSeller={this.handleSeller}\r\n        handleUnderlying={this.handleUnderlying}\r\n        handleDropdown={this.handleDropdown}\r\n        handleExpirydate={this.handleExpirydate}\r\n        handleExpirytime={this.handleExpirytime}\r\n        handleVerify={this.getVerify}\r\n        enableField={this.enableField}\r\n        disableField={this.disableField}\r\n        data={this.state}\r\n        handleSubmit={this.handleSubmit}\r\n      />\r\n    );\r\n  }\r\n}\r\nexport default Edittrade;\r\n"]},"metadata":{},"sourceType":"module"}